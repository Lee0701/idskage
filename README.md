# idskage
Generate Kage glyph format from IDS

# 組字原理
* 輸入：IDS 或 字
* 輸出：部件以及字框 (kage input format)

* 例一: ⿱艹⿰日月
    首先從第一個IDC知道往後需要兩個部件。除了 U+2FF2 , U+2FF3 需要三個部件，其他IDC都是兩個。
    然後產生上下兩個框，目前只是直接對半。
    第一個框放艹
    第二個框放sub IDS ⿰日月，遞迴呼叫，
      ⿰會產生左右兩個子框，分別放入日及月。
      
  最後產生的資料，就是 艹 佔據了上半部。日佔了左下角，月佔了右下角。
  

* 例二：⿱艹明 (複合部件)
  踫到「明」時，先查 glypheme 是否含「明」的組字資訊(即kage input format)，若有直接使用，停止遞回。
  如果沒有，則查 decompose，取得「明」=「⿰日月」，遞迴算框。
  

* 改良空間：
 1. 根據部件的複雜度算出適當比例，如「⿰氵森」和「⿰氵夕」，潹的氵應佔較大比例。
 2. 包含型部件。「⿴凵口」和「⿶凵口」是否產生相同結果？
 3. 異體部件，木在左邊時，「捺」必須化為「點」，「木」在上時，豎筆要縮短，系統應根據位置自動選取適當的部件。
 4. IDS 優化，使用端輸入「⿱大⿱艹⿰日月」，因為從「⿱艹⿰日月」可得知為「萌」字，可優化為「⿱大萌」
